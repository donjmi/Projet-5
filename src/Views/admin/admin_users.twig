{% extends 'Template/layout-admin.twig' %}

{% block content %}
<h1> Liste des utilisateurs </h1>
<br />
<table class="table">
    <thead class="thead-light">
    <tr>
        <th>id</th>
        <th>pseudo</th>
        <th>email</th>
        <th>mot de passe</th>
        <th>rôle</th>
        <th>Editer</th>
				<th>supprimer</th>
    </tr>
    <thead>
{% for user in users %}
    <tr>
       <td>{{ user.id }}</td>
       <td>{{ user.pseudo }}</td>
       <td>{{ user.email }}</td>
       <td>{{ ' ... '~user.password|slice(0,20)~' ...'}}</td>
       <td>{{ user.role }}</td>
       <td>
					<a href="users/update/{{user.id}}">
						<button type="button" class="btn btn-warning">modifier</button>
				</td>
				<td>
					<a href="users/delete/{{user.id}}" onclick="return window.confirm('Êtes-vous certain de vouloir supprimer cette utilisateur ?!')"> 
						<button  type="button" class="btn btn-danger" >supprimer</button></a>
				</td> 
    </tr>
   {% endfor%}
</table>

{# <p class="h4 mb-4">Ajouter un nouvel utilisateur</p><a href="users/createUsers" class="badge badge-primary">Ajout</a> #}

{% include 'User_edit.twig'  with {'errors': errors, 'action': action, 'configs': configs, 'mode': 'bloc' } %}
    
{% endblock content %}